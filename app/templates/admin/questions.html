{% extends 'admin/base.html' %}

{% block content %}
    <h1>Управление вопросами</h1>

    <h2>Направления</h2>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Название</th>
                <th>Действия</th>
            </tr>
        </thead>
        <tbody>
            {% for direction in directions %}
            <tr>
                <td>{{ direction.id }}</td>
                <td>{{ direction.title }}</td>
                <td>
                    <a href="{{ url_for('admin.edit_direction', direction_id=direction.id) }}">Редактировать</a> |
                    <a href="{{ url_for('admin.delete_direction', direction_id=direction.id) }}" onclick="return confirm('Вы уверены, что хотите удалить это направление?');">Удалить</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{{ url_for('admin.add_direction') }}">Добавить новое направление</a>

    <!-- Таблица критериев -->
    <h2>Критерии</h2>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Название</th>
                <th>Номер</th>
                <th>Направление</th>
                <th>Действия</th>
            </tr>
        </thead>
        <tbody>
            {% for criterion in criterions %}
            <tr>
                <td>{{ criterion.id }}</td>
                <td>{{ criterion.title }}</td>
                <td>{{ criterion.number }}</td>
                <td>{{ criterion.direction.title }}</td>
                <td>
                    <a href="{{ url_for('admin.edit_criterion', criterion_id=criterion.id) }}">Редактировать</a> |
                    <a href="{{ url_for('admin.delete_criterion', criterion_id=criterion.id) }}" onclick="return confirm('Вы уверены, что хотите удалить этот критерий?');">Удалить</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{{ url_for('admin.add_criterion') }}">Добавить новый критерий</a>

    <!-- Таблица подкритериев -->
    <h2>Подкритерии</h2>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Название</th>
                <th>Критерий</th>
                <th>Действия</th>
            </tr>
        </thead>
        <tbody>
            {% for subcriterion in subcriterions %}
            <tr>
                <td>{{ subcriterion.id }}</td>
                <td>{{ subcriterion.title }}</td>
                <td>{{ subcriterion.criterion.title }}</td>
                <td>
                    <a href="{{ url_for('admin.edit_subcriterion', subcriterion_id=subcriterion.id) }}">Редактировать</a> |
                    <a href="{{ url_for('admin.delete_subcriterion', subcriterion_id=subcriterion.id) }}" onclick="return confirm('Вы уверены, что хотите удалить этот подкритерий?');">Удалить</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{{ url_for('admin.add_subcriterion') }}">Добавить новый подкритерий</a>

    <!-- Таблица вопросов -->
    <h2>Вопросы</h2>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Текст вопроса</th>
                <th>Градация</th>
                <th>Подкритерий</th>
                <th>Действия</th>
            </tr>
        </thead>
        <tbody>
            {% for punct in puncts %}
            <tr>
                <td>{{ punct.id }}</td>
                <td>{{ punct.title }}</td>
                <td>{{ punct.range_min }} - {{ punct.range_max }}</td>
                <td>{{ punct.subcriterion.title }}</td>
                <td>
                    <a href="{{ url_for('admin.edit_punct', punct_id=punct.id) }}">Редактировать</a> |
                    <a href="{{ url_for('admin.delete_punct', punct_id=punct.id) }}" onclick="return confirm('Вы уверены, что хотите удалить этот вопрос?');">Удалить</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{{ url_for('admin.add_punct') }}">Добавить новый вопрос</a>
{% endblock %}